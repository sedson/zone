* {
  box-sizing: border-box;
}

:host {
  width: 100%;
  height: 100%;
  --coments: var(--bg10);
  --yellow: var(--yellow);
  --selection: rgb(from var(--text) r g b / 0.25);
  color: var(--text);
  width: 100%;
  height: 100%;
  border: none;
  resize: none;
  position: relative;
  overflow: hidden;
  line-height: 1em;
}

.source,
.display {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  padding: 0;
  margin: 0;
  border: 0;
  font-family: inherit;
  font-size: inherit;
  padding: 1em;
  overflow: scroll;
  overflow-x: hidden;
  word-wrap: break-word;
  line-height: unset;
  max-width: 80ch;
}

.source {
  caret-color: var(--text);
  color: var(--text);
  caret-shape: underscore;
  background: transparent;
  resize: none;
  border: none;
  overscroll-behavior-x: none;
  overscroll-behavior-y: none;
  font-family: unset;
  color: teal;
}

.display {
  pointer-events: none;
  counter-reset: line-no 1;
}

.scroll-filler,
.display-text {
  position: absolute;
  width: 100%;
  top: 0;
  left: 0;
  pointer-events: none;
  padding: 1em;
}

.h {
  background-color: var(--green-fade);
  color: var(--green-dark);
  font-style: italic;
}

.line {
  display: block;
  counter-increment: linenumcounter;
  white-space: pre-wrap;
  margin: 0;
}

.line.caret-line {
  outline:  1px dashed rgb(from var(--text) r g b / 0.1);
}

.line.caret-line::before {
  background: var(--currentline);
}

.source, .display, .display-text {
/*   padding-left: 4em; */
}

.source::selection {
  background-color: var(--teal-fade);
  color: var(--teal-dark) !important;
}

.source:focus {
  outline: none;
  background: var(--focus);
}